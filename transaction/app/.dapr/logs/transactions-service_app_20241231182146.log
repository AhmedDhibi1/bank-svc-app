== APP - transactions-service == INFO:     Will watch for changes in these directories: ['/home/iheb/Documents/Projects/bank-svc-app/transaction/app']
== APP - transactions-service == INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
== APP - transactions-service == INFO:     Started reloader process [1345325] using WatchFiles
== APP - transactions-service == INFO:     Started server process [1345356]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:52158 - "GET /dapr/config HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:52158 - "GET /dapr/subscribe HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:59816 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:59816 - "POST /transactions/ HTTP/1.1" 400 Bad Request
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1345356]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1346758]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:33674 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:33678 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:33678 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:33674 - "POST /transactions/ HTTP/1.1" 200 OK
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1346758]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1353573]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:57586 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:57600 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:57586 - "POST /transactions/ HTTP/1.1" 400 Bad Request
== APP - transactions-service == /home/iheb/.local/lib/python3.10/site-packages/starlette/_exception_handler.py:78: RuntimeWarning: coroutine 'TransactionService.create_transaction_record' was never awaited
== APP - transactions-service ==   await response(scope, receive, sender)
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1353573]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1354513]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:47558 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == Failed to retrieve transactions: 204
== APP - transactions-service == INFO:     127.0.0.1:47566 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:47558 - "POST /transactions/ HTTP/1.1" 400 Bad Request
== APP - transactions-service == /home/iheb/.local/lib/python3.10/site-packages/starlette/_exception_handler.py:78: RuntimeWarning: coroutine 'TransactionService.create_transaction_record' was never awaited
== APP - transactions-service ==   await response(scope, receive, sender)
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1354513]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1358623]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1358623]
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1358926]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:48488 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == /home/iheb/Documents/Projects/bank-svc-app/transaction/app/services/transaction.py:102: RuntimeWarning: coroutine 'TransactionService.add_transaction' was never awaited
== APP - transactions-service ==   self.add_transaction(account_id, transaction_doc)
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == /home/iheb/Documents/Projects/bank-svc-app/transaction/app/services/transaction.py:114: RuntimeWarning: coroutine 'TransactionService.create_transaction_record' was never awaited
== APP - transactions-service ==   await self.update_account_balance(
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == INFO:     127.0.0.1:48492 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:48492 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == /home/iheb/Documents/Projects/bank-svc-app/transaction/app/services/transaction.py:121: RuntimeWarning: coroutine 'TransactionService.create_transaction_record' was never awaited
== APP - transactions-service ==   await self.update_account_balance(
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == INFO:     127.0.0.1:48488 - "POST /transactions/ HTTP/1.1" 200 OK
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1358926]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1360729]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:55246 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:55256 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == /home/iheb/Documents/Projects/bank-svc-app/transaction/app/services/transaction.py:103: RuntimeWarning: coroutine 'TransactionService.add_transaction' was never awaited
== APP - transactions-service ==   self.add_transaction(account_id, transaction_doc)
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == /home/iheb/Documents/Projects/bank-svc-app/transaction/app/services/transaction.py:115: RuntimeWarning: coroutine 'TransactionService.create_transaction_record' was never awaited
== APP - transactions-service ==   await self.update_account_balance(
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == /home/iheb/Documents/Projects/bank-svc-app/transaction/app/services/transaction.py:122: RuntimeWarning: coroutine 'TransactionService.create_transaction_record' was never awaited
== APP - transactions-service ==   await self.update_account_balance(
== APP - transactions-service == RuntimeWarning: Enable tracemalloc to get the object allocation traceback
== APP - transactions-service == INFO:     127.0.0.1:55256 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == INFO:     127.0.0.1:55246 - "POST /transactions/ HTTP/1.1" 200 OK
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1360729]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1364602]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:50980 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:50982 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == Failed to retrieve transactions: 204
== APP - transactions-service == INFO:     127.0.0.1:50980 - "POST /transactions/ HTTP/1.1" 400 Bad Request
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1364602]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1366016]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1366016]
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1367404]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:46680 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:46692 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == Failed to retrieve transactions: 204
== APP - transactions-service == Failed to add transaction: 204
== APP - transactions-service == INFO:     127.0.0.1:46692 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == Failed to retrieve transactions: 204
== APP - transactions-service == Failed to add transaction: 204
== APP - transactions-service == INFO:     127.0.0.1:46680 - "POST /transactions/ HTTP/1.1" 200 OK
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1367404]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1371011]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:55174 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:55184 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == Failed to retrieve transactions: 200
== APP - transactions-service == INFO:     127.0.0.1:55184 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == Failed to retrieve transactions: 200
== APP - transactions-service == INFO:     127.0.0.1:55174 - "POST /transactions/ HTTP/1.1" 200 OK
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1371011]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1372394]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:46850 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:46866 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == [{'from_account': '1f2fdd06-f3a2-4047-94aa-c39bc09a17e3', 'amount': 100, 'operation': 'debit', 'transaction_type': 'TRANSFER', 'status': 'COMPLETED', 'timestamp': {'$currentDate': {'timestamp': True}}}]
== APP - transactions-service == INFO:     127.0.0.1:46866 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == [{'from_account': '8e2ccf91-6bc5-47bb-81e6-0b3fbb828b5b', 'amount': 100, 'operation': 'credit', 'transaction_type': 'TRANSFER', 'status': 'COMPLETED', 'timestamp': {'$currentDate': {'timestamp': True}}}]
== APP - transactions-service == INFO:     127.0.0.1:46850 - "POST /transactions/ HTTP/1.1" 200 OK
== APP - transactions-service == WARNING:  WatchFiles detected changes in 'services/transaction.py'. Reloading...
== APP - transactions-service == INFO:     Shutting down
== APP - transactions-service == INFO:     Waiting for application shutdown.
== APP - transactions-service == INFO:     Application shutdown complete.
== APP - transactions-service == INFO:     Finished server process [1372394]
== APP - transactions-service == Disconnected from MongoDB!
== APP - transactions-service == INFO:     Started server process [1374075]
== APP - transactions-service == INFO:     Waiting for application startup.
== APP - transactions-service == INFO:     Application startup complete.
== APP - transactions-service == Connected to MongoDB!
== APP - transactions-service == INFO:     127.0.0.1:54378 - "POST /transactions HTTP/1.1" 307 Temporary Redirect
== APP - transactions-service == INFO:     127.0.0.1:54392 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == [{'operation': 'debit', 'transaction_type': 'TRANSFER', 'status': 'COMPLETED', 'timestamp': {'$currentDate': {'timestamp': True}}, 'from_account': '1f2fdd06-f3a2-4047-94aa-c39bc09a17e3', 'amount': 100}, {'amount': 100, 'operation': 'debit', 'transaction_type': 'TRANSFER', 'status': 'COMPLETED', 'timestamp': {'$currentDate': {'timestamp': True}}, 'from_account': '1f2fdd06-f3a2-4047-94aa-c39bc09a17e3'}]
== APP - transactions-service == INFO:     127.0.0.1:54392 - "POST /dapr/subscribe/updateAccount HTTP/1.1" 404 Not Found
== APP - transactions-service == [{'timestamp': {'$currentDate': {'timestamp': True}}, 'from_account': '8e2ccf91-6bc5-47bb-81e6-0b3fbb828b5b', 'amount': 100, 'operation': 'credit', 'transaction_type': 'TRANSFER', 'status': 'COMPLETED'}, {'from_account': '8e2ccf91-6bc5-47bb-81e6-0b3fbb828b5b', 'amount': 100, 'operation': 'credit', 'transaction_type': 'TRANSFER', 'status': 'COMPLETED', 'timestamp': {'$currentDate': {'timestamp': True}}}]
== APP - transactions-service == INFO:     127.0.0.1:54378 - "POST /transactions/ HTTP/1.1" 200 OK

termination signal received: shutting down
